<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <link rel="stylesheet" type="text/css" href="css/mui.css"/>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>
</head>
<body >
	<div class="mui-content" id="app" v-cloak style="background: none;">
	    <div class="mui-content" id="content" style="background: none;">
	    	<!--<div class="mui-row ptittle" >
	    	    <p id="pbox">全民加油总动员</p>
	    	</div>-->
	    	<div class="mui-row actguiz">
	    		
	    	    <a href="./actrules.html">活动规则</a>
	    	</div>
	    	<div class="mui-row choujiang">
	    		<ul>
		            <li>
		                <dl class="dl">
		                    <dd>0</dd>
		                    <dd>1</dd>
		                    <dd>2</dd>
		                    <dd>3</dd>
		                    <dd>4</dd>
		                    <dd>5</dd>
		                    <dd>6</dd>
		                    <dd>7</dd>
		                    <dd>8</dd>
		                    <dd>9</dd>
		               </dl>
		            </li>
		            <li>
		                <dl class="dl">
		                    <dd>0</dd>
		                    <dd>1</dd>
		                    <dd>2</dd>
		                    <dd>3</dd>
		                    <dd>4</dd>
		                    <dd>5</dd>
		                    <dd>6</dd>
		                    <dd>7</dd>
		                    <dd>8</dd>
		                    <dd>9</dd>
		               </dl>
		            </li>
		            <li>
		                <dl class="dl">
		                    <dd>0</dd>
		                    <dd>1</dd>
		                    <dd>2</dd>
		                    <dd>3</dd>
		                    <dd>4</dd>
		                    <dd>5</dd>
		                    <dd>6</dd>
		                    <dd>7</dd>
		                    <dd>8</dd>
		                    <dd>9</dd>
		               </dl>
		            </li>
		            <li>
		                <dl class="dl">
		                    <dd>0</dd>
		                    <dd>1</dd>
		                    <dd>2</dd>
		                    <dd>3</dd>
		                    <dd>4</dd>
		                    <dd>5</dd>
		                    <dd>6</dd>
		                    <dd>7</dd>
		                    <dd>8</dd>
		                    <dd>9</dd>
		               </dl>
		            </li>
		        </ul>
		        <div id="tochouj">
		        	<button class="btn">立即抽奖</button>
		        </div>
		        <div class="panel">
            
        		</div>
	    	</div>
	    	<div class="mui-row encourcount">
	    	    <div class="allcount tobox">
	    	    	<p>16</p>
	    	    	<span id="">
	    	    		累计获得加油次数
	    	    	</span>
	    	    </div>
	    	    <div class="nowcount tobox">
	    	    	<p>6</p>
	    	    	<span id="">
	    	    		今日剩余加油次数
	    	    	</span>
	    	    </div>
	    	    <div class="allmoney tobox">
	    	    	<p>¥<span id="">23.56</span></p>
	    	    	<span id="">
	    	    		加油总金额(元)
	    	    	</span>
	    	    </div>
	    	</div>
	    	<div class="mui-row togetchance">
	    	    <p>如何获取加油次数?您可以点击发布竞价担保货源或非竞价担保货源,并完成在线支付,可获得一次加油机会</p>
	    	</div>
	    	<div class="mui-row sharebtn">
	    		<div id="sharebox">
	    			<p>加油次数太少?</p>
	    			<button type="button" class="mui-btn mui-btn-blue toshare" v-on:click="share">立即分享</button>
	    		</div>
	    	    <div id="tofriend">
	    	    	<span id="">
	    	    		邀请好友助力加油
	    	    	</span>
	    	    </div>
	    	</div>
	    	
	    </div>
	</div>
    
    <script src="js/mui.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/main.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript">
    mui.init()
    var oli=document.getElementsByTagName("li"),
         reset=document.querySelector(".reset"),
         btn=document.querySelector(".btn"),
         odl=document.querySelectorAll(".dl"),
         Let=10,H=20,first=3,second=5,
         third=8,cf=cs=ct=0,timer=null,str="";
        for (var i = 0; i < odl.length; i++) {
            var html=odl[i].innerHTML;
                odl[i].innerHTML="";
                ck=stradd(html,2);
                odl[i].innerHTML=ck;
         }; 
        function stradd(str,size){
            if(Object.prototype.toString.call(str)
                =="[object String]"){
                for (var i = 0; i < size; i++) {
                    str+=str;
                }; 
            }else{
                return "数据类型错误";
            }
             return str;
        }
        function getStyle(obj,name){
           return obj.currentStyle?obj.currentStyle[name]:getComputedStyle(obj,false)[name];
        }
        function starmove(obj,json,funEnd){
            clearInterval(obj.timer);
            var Bstop=true;
            obj.timer=setInterval(function(){
                for(var attr in json){
                   var speed=0;
                   if(attr=="opacity"){
                       var cur=Math.round(parseFloat(getStyle(obj,attr)*100));
                   }else{
                       var cur=parseInt(getStyle(obj,attr));
                   }
                   speed=(json[attr]-cur)/20;
                   speed=speed>0?Math.ceil(speed):Math.floor(speed); 
                   if(cur!=json[attr]){
                        Bstop=false;
                   }else{
                        Bstop=true;
                   }
 
                   if(attr=="opacity"){
                       obj.style.opacity=(cur+speed)/100;
                   }else{
                       obj.style[attr]=cur+speed+"px";
                   }
                }
              
                if(Bstop){
                      clearInterval(obj.timer);
                      if(funEnd)funEnd();
                }
            },30)
         }
         function run(){
            for (var i = 0; i < oli.length; i++) {
                oli[i].value=Math.floor(Math.random()*10);
            var Num=parseInt(oli[i].value),
                odl=oli[i].getElementsByTagName("dl")[0],
                odd=odl.getElementsByTagName("dd"),
                size=odd.length,
                height=odl.offsetHeight,
                tops=odd[Num+(size-Let)].offsetTop;
                odl.style.top=0;
                str+=Num; 
                starmove(odl,{"top":-(tops)},function(){
                        btn.className="btn";
                });  
              
 
           };
            
         }
         btn.onclick=function(){
            str="";
            this.className="flash btn";
            run()
            console.log()
         }
    </script>
</body>
</html>
